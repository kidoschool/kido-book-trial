{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/kido3/Desktop/Kido/kido-book-trial/src/pages/Posts/Post.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport \"./Post.css\";\nimport Modal from './../../common/Modal/Modal';\nimport Sidebar from \"../../components/Sidebar/Sidebar\";\nimport Axios from \"axios\";\nimport { AuthContext } from '../../context/Auth';\n\nfunction Post(props) {\n  _s();\n\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const [showModal, setShowModal] = useState(false);\n  const [showDetails, setShowDetails] = useState(false);\n  const [postTitle, setPostTitle] = useState(\"\");\n  const [postDescription, setPostDescription] = useState(\"\");\n  const [scheduleDate, setScheduleDate] = useState(\"\");\n  const [formComplete, setFormComplete] = useState(false);\n  const [formIncompleteError, setFormIncompleteError] = useState(false);\n  const [postName, setPostName] = useState(\"\");\n  const [postDetail, setPostDetail] = useState(\"\");\n  const [postDate, setPostDate] = useState(\"\");\n  const [postData, setPostData] = useState(\"\");\n  const [isPostAdded, setIsPostAdded] = useState(false);\n  const [isPostDelete, setIsPostDelete] = useState(false);\n  const [isPostEdited, setIsPostEdited] = useState(false);\n  const [editDetails, setEditDetails] = useState(false);\n  const [postId, setPostId] = useState(\"\");\n  const postTitles = React.useRef();\n  const postDescriptions = React.useRef();\n  const scheduleDates = React.useRef();\n  const userId = currentUser.uid; // to Hide past date\n\n  var today = new Date();\n  var month,\n      day = null;\n\n  if (today.getMonth() < 10 || today.getDate() < 10) {\n    month = \"0\" + (today.getMonth() + 1);\n    day = \"0\" + today.getDate();\n  }\n\n  var date = today.getFullYear() + \"-\" + month + \"-\" + day;\n  useEffect(() => {\n    setIsPostAdded(false);\n    setIsPostDelete(false);\n    setIsPostEdited(false);\n    getPostData(currentUser.email);\n  }, [isPostAdded, isPostDelete, isPostEdited, currentUser]);\n\n  const getPostData = email => {\n    Axios.get(`https://react-crud-e02cf.firebaseio.com/post/${userId}.json`).then(response => {\n      setPostData(response.data); // setPostData(Object.entries(response.data).filter((e)=>(e.user === email)));\n      // console.log(response);\n    }).catch(error => console.log(error));\n  }; //  to Add and Edit cardData in DB\n\n\n  const handleAddPostData = e => {\n    //   check if all input is taken\n    if (postTitles.current.value.length === 0 || postDescriptions.current.value.length === 0 || scheduleDates.current.value.length === 0) {\n      setFormComplete(false);\n      setFormIncompleteError(true);\n    } else {\n      // if user wants to edit then put request is used\n      if (editDetails) {\n        Axios.put(`https://react-crud-e02cf.firebaseio.com/post/${userId}/${postId}.json`, {\n          postName: postName === \"\" ? postTitle : postName,\n          postDetail: postDetail === \"\" ? postDescription : postDetail,\n          postDate: postDate === \"\" ? scheduleDate : postDate,\n          user: currentUser.email\n        }).then(response => {\n          alert(\"post edited succesfully\");\n          setIsPostEdited(true);\n        }).catch(error => console.log(\"Error in editDetails\" + error));\n      } //  if user wants to add a new card\n      else {\n          Axios.post(`https://react-crud-e02cf.firebaseio.com/post/${userId}.json`, {\n            postName: postName,\n            postDetail: postDetail,\n            postDate: postDate,\n            user: currentUser.email\n          }).then(response => {\n            alert(\"post added succesfully\");\n            setIsPostAdded(true);\n          }).catch(error => console.log(\"Error\" + error));\n        }\n\n      setShowModal(false);\n      setEditDetails(false);\n      setPostName(\"\");\n      setPostDetail(\"\");\n      setPostDate(\"\");\n    }\n  }; // on click of card this function shows details\n\n\n  const onPostClick = (postTitle, postDescription, scheduleDate, postId, e) => {\n    setShowDetails(true);\n    setPostTitle(postTitle);\n    setPostDescription(postDescription);\n    setScheduleDate(scheduleDate);\n    setPostId(postId);\n  }; // handles edit button click\n\n\n  const handleEdit = e => {\n    setShowDetails(false);\n    setShowModal(true);\n    setEditDetails(true);\n  }; // handles archive on card archive click\n\n\n  const handleDelete = (postId, e) => {\n    if (window.confirm(\"Are you sure you want to delete the Post?\")) {\n      Axios.delete(`https://react-crud-e02cf.firebaseio.com/post/${userId}/${postId}.json`).then(response => {\n        alert(\"post deleted succesfully\");\n        setIsPostDelete(true);\n      }).catch(error => console.log(\"Error\" + error));\n    }\n  };\n\n  const modalCloseHandler = () => {\n    setShowModal(false);\n    setEditDetails(false);\n  };\n\n  const showmodalCloseHandler = () => {\n    setShowDetails(false);\n  }; //modal of Add and Edit Card\n\n\n  let modalContent = showModal ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: editDetails ? 'Edit Post' : 'Add Post'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 11\n          }, this), formIncompleteError ? /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: 'red'\n            },\n            children: \"Kindly complete the form before adding Column\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 34\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"postTitle\",\n              children: \"Post Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"post_title\",\n              defaultValue: editDetails ? postTitle : \"\",\n              placeholder: \"Enter a post title\",\n              ref: postTitles,\n              onChange: event => setPostName(event.target.value),\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"postDescription\",\n              children: \"Post Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"post_description\",\n              defaultValue: editDetails ? postDescription : \"\",\n              placeholder: \"Enter a post Description\",\n              ref: postDescriptions,\n              onChange: event => setPostDetail(event.target.value),\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"schedule\",\n              children: \"Schedule Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"schedule_date\",\n              min: date,\n              defaultValue: editDetails ? scheduleDate : \"\",\n              ref: scheduleDates,\n              onChange: event => setPostDate(event.target.value),\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: formComplete,\n            className: \"btn btn-info\",\n            onClick: handleAddPostData,\n            children: editDetails ? 'Edit Post' : 'Add Post'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 5\n    }, this)\n  }, void 0, false) : null; //modal of show card details\n\n  let showmodalContent = showDetails ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-left\",\n              children: \"View Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              id: \"editBtn\",\n              className: \"btn btn-info\",\n              onClick: handleEdit,\n              children: \"Edit Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-left my-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Post Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: postTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-left my-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Post Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: postDescription\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-left my-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Post Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: scheduleDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 3\n    }, this)\n  }, void 0, false) : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper d-flex align-items-stretch\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-3 post-data\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-dark mt-4\",\n        onClick: () => setShowModal(true),\n        children: \"Add Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-table my-5\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-striped table-hover table-dark\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Post Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Post Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Schedule date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: postData ? Object.entries(postData).map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: item[1].postName\n              }, item[0], false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item[1].postDetail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item[1].postDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  id: item[0],\n                  value: item[1].postName,\n                  onClick: e => onPostClick(item[1].postName, item[1].postDetail, item[1].postDate, item[0], e),\n                  className: \"btn btn-success btn-sm\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-eye\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 258,\n                    columnNumber: 54\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  id: item[0],\n                  onClick: e => handleDelete(item[0], e),\n                  className: \"btn btn-danger btn-sm ml-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-trash\",\n                    \"aria-hidden\": \"true\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 135\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 9\n            }, this)) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"noTaskAdded p-5\",\n              children: \"No tasks added\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), showModal && /*#__PURE__*/_jsxDEV(Modal, {\n        content: modalContent,\n        close: modalCloseHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 13\n      }, this), showDetails && /*#__PURE__*/_jsxDEV(Modal, {\n        content: showmodalContent,\n        close: showmodalCloseHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Post, \"1xajrsyRfOKoMMu76h/ZSilN9Q0=\");\n\n_c = Post;\nexport default Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["/home/kido3/Desktop/Kido/kido-book-trial/src/pages/Posts/Post.js"],"names":["React","useState","useEffect","useContext","Modal","Sidebar","Axios","AuthContext","Post","props","currentUser","showModal","setShowModal","showDetails","setShowDetails","postTitle","setPostTitle","postDescription","setPostDescription","scheduleDate","setScheduleDate","formComplete","setFormComplete","formIncompleteError","setFormIncompleteError","postName","setPostName","postDetail","setPostDetail","postDate","setPostDate","postData","setPostData","isPostAdded","setIsPostAdded","isPostDelete","setIsPostDelete","isPostEdited","setIsPostEdited","editDetails","setEditDetails","postId","setPostId","postTitles","useRef","postDescriptions","scheduleDates","userId","uid","today","Date","month","day","getMonth","getDate","date","getFullYear","getPostData","email","get","then","response","data","catch","error","console","log","handleAddPostData","e","current","value","length","put","user","alert","post","onPostClick","handleEdit","handleDelete","window","confirm","delete","modalCloseHandler","showmodalCloseHandler","modalContent","color","event","target","showmodalContent","Object","entries","map","item"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport  \"./Post.css\";\nimport Modal from './../../common/Modal/Modal';\nimport Sidebar from \"../../components/Sidebar/Sidebar\";\nimport Axios from \"axios\";\nimport { AuthContext } from '../../context/Auth';\n\n\nfunction Post(props) {\n  const { currentUser } = useContext(AuthContext);\n\n  const [showModal, setShowModal] = useState(false);\n  const [showDetails, setShowDetails] = useState(false);\n  const [postTitle, setPostTitle] = useState(\"\");\n  const [postDescription, setPostDescription] = useState(\"\");\n  const [scheduleDate, setScheduleDate] = useState(\"\");\n  const [formComplete, setFormComplete] = useState(false);\n  const [formIncompleteError, setFormIncompleteError] = useState(false);\n\n  const [postName, setPostName] = useState(\"\");\n  const [postDetail, setPostDetail] = useState(\"\");\n  const [postDate, setPostDate] = useState(\"\");\n\n  const [postData, setPostData] = useState(\"\");\n  const [isPostAdded, setIsPostAdded] = useState(false);\n  const [isPostDelete, setIsPostDelete] = useState(false);\n  const [isPostEdited, setIsPostEdited] = useState(false);\n\n  const [editDetails, setEditDetails] = useState(false);\n  const [postId, setPostId] = useState(\"\");\n\n  const postTitles  = React.useRef();\n  const postDescriptions  = React.useRef();\n  const scheduleDates  = React.useRef();\n\n  const userId = currentUser.uid;\n \n    // to Hide past date\n    var today = new Date();\n    var month,\n      day = null;\n    if (today.getMonth() < 10 || today.getDate() < 10) {\n      month = \"0\" + (today.getMonth() + 1);\n      day = \"0\" + today.getDate();\n    }\n    var date = today.getFullYear() + \"-\" + month + \"-\" + day;\n\n    useEffect(() => {\n      setIsPostAdded(false);\n      setIsPostDelete(false);\n      setIsPostEdited(false);\n      getPostData(currentUser.email);\n    }, [isPostAdded, isPostDelete, isPostEdited, currentUser]);\n\n    const getPostData = (email) => {\n      Axios\n      .get(`https://react-crud-e02cf.firebaseio.com/post/${userId}.json`)\n      .then((response) => {\n        setPostData(response.data)\n        // setPostData(Object.entries(response.data).filter((e)=>(e.user === email)));\n        // console.log(response);\n      })\n      .catch((error) => console.log(error));\n  };\n  \n//  to Add and Edit cardData in DB\nconst handleAddPostData = (e) => {\n  //   check if all input is taken\n  if(postTitles.current.value.length === 0 || postDescriptions.current.value.length === 0  || scheduleDates.current.value.length === 0 ){\n    setFormComplete(false);\n    setFormIncompleteError(true);\n  } else {\n    // if user wants to edit then put request is used\n    if (editDetails) {\n      Axios\n      .put(`https://react-crud-e02cf.firebaseio.com/post/${userId}/${postId}.json`,\n        {\n          postName: postName === \"\" ? postTitle : postName,\n          postDetail: postDetail === \"\" ? postDescription : postDetail,\n          postDate: postDate === \"\" ? scheduleDate : postDate,\n          user: currentUser.email,\n        }\n      )\n        .then((response) => {\n          alert(\"post edited succesfully\");\n          setIsPostEdited(true);\n        })\n        .catch((error) => console.log(\"Error in editDetails\" + error));\n    }\n    //  if user wants to add a new card\n    else {\n      Axios\n      .post(`https://react-crud-e02cf.firebaseio.com/post/${userId}.json`,\n        {\n          postName: postName,\n          postDetail: postDetail,\n          postDate: postDate,\n          user: currentUser.email,\n        }\n      )\n        .then((response) => {\n          alert(\"post added succesfully\");\n          setIsPostAdded(true);\n        })\n        .catch((error) => console.log(\"Error\" + error));\n    }\n\n    setShowModal(false);\n    setEditDetails(false);\n\n    setPostName(\"\");\n    setPostDetail(\"\");\n    setPostDate(\"\");\n  }\n};\n\n  // on click of card this function shows details\n  const onPostClick = (\n    postTitle,\n    postDescription,\n    scheduleDate,\n    postId,\n    e\n  ) => {\n    setShowDetails(true);\n\n    setPostTitle(postTitle);\n    setPostDescription(postDescription);\n    setScheduleDate(scheduleDate);\n    setPostId(postId);\n  };\n\n   // handles edit button click\n const handleEdit = (e) => {\n  setShowDetails(false);\n  setShowModal(true);\n  setEditDetails(true);\n};\n\n\n\n  // handles archive on card archive click\n  const handleDelete = (postId, e) => {\n    if (window.confirm(\"Are you sure you want to delete the Post?\")) {\n    Axios\n    .delete(`https://react-crud-e02cf.firebaseio.com/post/${userId}/${postId}.json`)\n      .then((response) => {\n        alert(\"post deleted succesfully\");\n        setIsPostDelete(true);\n      })\n      .catch((error) => console.log(\"Error\" + error));\n    }\n  };\n\n\n\n  const  modalCloseHandler = () => { setShowModal(false); setEditDetails(false);};\n\n  const  showmodalCloseHandler = () => {setShowDetails(false)};\n\n  //modal of Add and Edit Card\n  let modalContent = showModal ? \n\n  (\n      <>\n    <div className=\"container py-4\">\n      <div className=\"row\">\n        <div className=\"col-md-12 text-left\">\n          <h3>{editDetails ? 'Edit Post' : 'Add Post'}</h3>\n          {formIncompleteError ? <p style={{color : 'red'}}>Kindly complete the form before adding Column</p> : null}\n        <div className=\"form-group\">\n          <label htmlFor=\"postTitle\">Post Title</label>\n          <input type=\"text\" id=\"post_title\" defaultValue={editDetails ? postTitle : \"\"} placeholder=\"Enter a post title\" ref={postTitles} onChange={(event) => setPostName(event.target.value)} className=\"form-control\"/>\n        </div> \n        <div className=\"form-group\">\n          <label htmlFor=\"postDescription\">Post Description</label>\n          <input type=\"text\" id=\"post_description\" defaultValue={editDetails ? postDescription : \"\"} placeholder=\"Enter a post Description\" ref={postDescriptions} onChange={(event) => setPostDetail(event.target.value)} className=\"form-control\"/>\n        </div> \n        <div className=\"form-group\">\n          <label htmlFor=\"schedule\">Schedule Date</label>\n          <input type=\"date\" id=\"schedule_date\" min={date} defaultValue={editDetails ? scheduleDate : \"\"} ref={scheduleDates} onChange={(event) => setPostDate(event.target.value)} className=\"form-control\"/>\n        </div>\n        <button disabled={formComplete} className=\"btn btn-info\" onClick={handleAddPostData}>{editDetails ? 'Edit Post' : 'Add Post'}</button>\n        </div>\n      </div>\n    </div>\n\n  \n      </>\n  )\n  :null;\n\n  //modal of show card details\n  let showmodalContent = showDetails ? \n\n  (\n      <>\n  <div className=\"container my-4\">\n        <div className=\"row\">\n          <div className=\"col-lg-12\">\n          <div className=\"d-flex justify-content-between\">\n            <h2 className=\"text-left\">View Post</h2>\n            <button type=\"button\" id=\"editBtn\" className=\"btn btn-info\" onClick={handleEdit}>Edit Post</button>\n          </div>\n          <hr/>\n          <div className=\"text-left my-4\">\n            <h4>Post Title</h4>\n            <h6>{postTitle}</h6>\n          </div>\n          <div className=\"text-left my-4\">\n            <h4>Post Description</h4>\n            <h6>{postDescription}</h6>\n          </div>\n          <div className=\"text-left my-4\">\n            <h4>Post Date</h4>\n            <h6>{scheduleDate}</h6>\n          </div>\n      </div>\n      </div>\n      </div>\n      </>\n     \n  )\n  :null;\n\n  return (\n    <div className=\"wrapper d-flex align-items-stretch\">\n    <Sidebar />\n    <div className=\"container py-3 post-data\">\n      <h2>Posts</h2>\n      <button className=\"btn btn-dark mt-4\" onClick={() => setShowModal(true)}>Add Post</button>\n      <div className=\"post-table my-5\">\n      <table className=\"table table-striped table-hover table-dark\">\n      <thead>\n        <tr>\n          <th scope=\"col\">Post Title</th>\n          <th scope=\"col\">Post Description</th>\n          <th scope=\"col\">Schedule date</th>\n          <th scope=\"col\">Action</th>\n        </tr>\n      </thead>\n      <tbody>\n      {postData ?\n        Object.entries(postData).map((item) => (\n        <tr>\n          <td key={item[0]}>{item[1].postName}</td>\n          <td>{item[1].postDetail}</td>\n          <td>{item[1].postDate}</td>\n          <td>\n            <button  id={item[0]} value={item[1].postName} onClick={(e) =>\n                  onPostClick(\n                    item[1].postName,\n                    item[1].postDetail,\n                    item[1].postDate,\n                    item[0],\n                    e\n                  )\n                } className=\"btn btn-success btn-sm\"><i className=\"fa fa-eye\" aria-hidden=\"true\"></i></button>\n                <button type=\"button\"  id={item[0]}  onClick={(e) => handleDelete(item[0], e)} className=\"btn btn-danger btn-sm ml-2\"><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button></td>\n        </tr>\n        ) ) : <span className=\"noTaskAdded p-5\">No tasks added</span>}\n      </tbody>\n    </table>\n      </div>\n        <br />\n        {showModal && (\n        \n            <Modal  \n                content = {modalContent}\n                close = {modalCloseHandler}/> \n        )}\n       \n       {showDetails && (\n        \n        <Modal  \n            content = {showmodalContent}\n            close = {showmodalCloseHandler}/> \n    )}\n\n    </div>\n    </div>\n\n\n   \n)\n}\n\nexport default Post;\n"]},"metadata":{},"sourceType":"module"}