{"ast":null,"code":"import _slicedToArray from\"/home/kido3/Desktop/Kido/kido-book-trial/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useContext}from'react';import fire from'../../../config/Fire';import{AuthContext}from'../../../context/Auth';import{withRouter,Redirect,Link}from'react-router-dom';import'./LoginRegister.css';function LoginRegister(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState('Login'),_useState6=_slicedToArray(_useState5,2),formTitle=_useState6[0],setFormTitle=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),fireErrors=_useState8[0],setFireErrors=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),loginBtn=_useState10[0],setLoginBtn=_useState10[1];var login=function login(event){event.preventDefault();fire.auth().signInWithEmailAndPassword(email,password).catch(function(error){setFireErrors(error.message);});};var register=function register(event){event.preventDefault();fire.auth().createUserWithEmailAndPassword(email,password).catch(function(error){setFireErrors(error.message);});};var getAction=function getAction(action){if(action==='reg'){setFormTitle('Register New User');setLoginBtn(false);setFireErrors('');}else{setFormTitle('Login');setLoginBtn(true);setFireErrors('');}};var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;if(currentUser){return/*#__PURE__*/_jsx(Redirect,{to:\"/backendhome\"});}var errorNotification=fireErrors?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:fireErrors}):null;var submitBtn=loginBtn?/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"loginBtn btn btn-success\",onClick:login,children:\"Enter\"}):/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"loginBtn btn btn-success\",onClick:register,children:\"Register\"});var login_register=loginBtn?/*#__PURE__*/_jsx(\"button\",{className:\"loginBtn btn btn-primary float-right d-none\",onClick:function onClick(){return getAction('reg');},children:\"Register\"}):/*#__PURE__*/_jsx(\"button\",{className:\"loginBtn btn btn-primary float-right\",onClick:function onClick(){return getAction('login');},children:\"Login\"});return/*#__PURE__*/_jsx(\"div\",{className:\"authentication\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container py-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5 px-5 py-5 bg-white border shadow-lg rounded signup-box\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:formTitle}),/*#__PURE__*/_jsx(\"div\",{children:errorNotification}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"email\",name:\"email\",value:email,placeholder:\"Enter a email\",onChange:function onChange(event){return setEmail(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"password\",value:password,placeholder:\"Enter a password\",onChange:function onChange(event){return setPassword(event.target.value);}})]}),submitBtn,login_register]})})})})});}export default withRouter(LoginRegister);","map":{"version":3,"sources":["/home/kido3/Desktop/Kido/kido-book-trial/src/pages/Backend/LoginRegister/LoginRegister.js"],"names":["React","useState","useContext","fire","AuthContext","withRouter","Redirect","Link","LoginRegister","props","email","setEmail","password","setPassword","formTitle","setFormTitle","fireErrors","setFireErrors","loginBtn","setLoginBtn","login","event","preventDefault","auth","signInWithEmailAndPassword","catch","error","message","register","createUserWithEmailAndPassword","getAction","action","currentUser","errorNotification","submitBtn","login_register","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport fire from '../../../config/Fire';\nimport { AuthContext } from '../../../context/Auth';\nimport { withRouter, Redirect, Link } from 'react-router-dom';\nimport './LoginRegister.css';\n\n\nfunction LoginRegister(props) {\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [formTitle, setFormTitle] = useState('Login');\n  const [fireErrors, setFireErrors] = useState(\"\");\n  const [loginBtn, setLoginBtn] = useState(true);\n\n\n  const login = (event) => {\n    event.preventDefault();\n    fire.auth().signInWithEmailAndPassword(email, password)\n     .catch((error) => {\n        setFireErrors(error.message)\n     })\n  }\n\n  const register = (event) => {\n    event.preventDefault();\n    fire.auth().createUserWithEmailAndPassword(email, password)\n     .catch((error) => {\n        setFireErrors(error.message)\n     })\n  }\n\n  const getAction = action => {\n      if(action === 'reg'){\n            setFormTitle('Register New User');\n            setLoginBtn(false);\n            setFireErrors('');\n      }else{\n            setFormTitle('Login');\n            setLoginBtn(true);\n            setFireErrors('');\n      }\n  }\n\n  const { currentUser } = useContext(AuthContext);\n\n  if (currentUser) {\n    return <Redirect to=\"/backendhome\" />;\n  }\n\n  \n  \n\n  let errorNotification = fireErrors ? \n  (<div className=\"alert alert-danger\" role=\"alert\">{fireErrors}</div>) : null;\n\n  let submitBtn = loginBtn ?\n  (<button  type=\"submit\" className=\"loginBtn btn btn-success\" onClick={login} >Enter</button>) :\n  (<button  type=\"submit\" className=\"loginBtn btn btn-success\" onClick={register} >Register</button>);\n\n  let login_register = loginBtn ? \n  (\n    <button  className=\"loginBtn btn btn-primary float-right d-none\" onClick={() => getAction('reg')}>Register</button>\n  ) :\n  (<button  className=\"loginBtn btn btn-primary float-right\" onClick={() => getAction('login')}>Login</button>);\n\n  return(\n    <div className=\"authentication\">\n    <div className=\"container py-5\">\n        <div className=\"row justify-content-center\">\n            <div className=\"col-md-6 col-lg-6\">\n            {/* <h1 className=\"title\">REACT CRUD DASHBOARD</h1> */}\n                <div className=\"mt-5 px-5 py-5 bg-white border shadow-lg rounded signup-box\">\n                <h2 className=\"text-center\">{formTitle}</h2>\n                <div>{errorNotification}</div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"email\">Email address</label>\n                        <input type=\"text\" className=\"form-control\" id=\"email\" name=\"email\" value={email} placeholder=\"Enter a email\" onChange={(event) => setEmail(event.target.value)}/>\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input type=\"password\" className=\"form-control\" id=\"password\" name=\"password\" value={password} placeholder=\"Enter a password\" onChange={(event) => setPassword(event.target.value)}/>\n                    </div>\n                    {submitBtn}\n                    {login_register}\n                </div>\n            </div>\n        </div>\n    </div>\n    </div>\n  );\n\n}\n\nexport default withRouter(LoginRegister);\n"]},"metadata":{},"sourceType":"module"}