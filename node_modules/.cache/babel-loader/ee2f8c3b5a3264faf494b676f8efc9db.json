{"ast":null,"code":"import _slicedToArray from\"/home/kido3/Desktop/Kido/kido-book-trial/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useState,useEffect,useContext}from\"react\";import Modal from'../../../common/Modal/Modal';import Axios from\"axios\";import{AuthContext}from'../../../context/Auth';function AddScheduleDate(props){var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),scheduleDate=_useState4[0],setScheduleDate=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),formComplete=_useState6[0],setFormComplete=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),formIncompleteError=_useState8[0],setFormIncompleteError=_useState8[1];var scheduleDates=React.useRef();var userId=currentUser.uid;useEffect(function(){modalOpenHandler();},[showModal]);var handleAddDateClick=function handleAddDateClick(event){if(scheduleDates.current.value.length===0){setFormComplete(false);setFormIncompleteError(true);}else{// add column name in firebase\nAxios.post(\"https://kido-bookt-backend-default-rtdb.firebaseio.com/groupContents/\".concat(props.groupId,\"/scheduleDate.json\"),{date:scheduleDate}).then(function(response){alert(\"Date added succesfully\");props.setShowDates(true);}).catch(function(error){return console.log(error);});setShowModal(false);setScheduleDate(\"\");}};var modalOpenHandler=function modalOpenHandler(){var colBox=document.getElementById(\"addScheduleDateBox\");colBox.addEventListener(\"click\",function(){setShowModal(true);});};var modalCloseHandler=function modalCloseHandler(){setShowModal(false);};var modalContent=showModal?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 text-left\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-primary1 pb-1\",children:\"Add Schedule Date\"}),formIncompleteError?/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:\"Kindly complete the form before adding Dates\"}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Schedule\",children:\"Enter Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"Schedule\",value:scheduleDate,placeholder:\"Enter a Schedule Date\",ref:scheduleDates,onChange:function onChange(event){return setScheduleDate(event.target.value);},className:\"form-control\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info btn-sm\",disabled:formComplete,onClick:handleAddDateClick,children:\"Add Schedule Date\"})]})})})}):null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between p-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Add Schedule Dates\"}),/*#__PURE__*/_jsx(\"div\",{className:\"btn btn-success btn-sm\",id:\"addScheduleDateBox\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-plus-square\"})})]}),showModal&&/*#__PURE__*/_jsx(Modal,{content:modalContent,close:modalCloseHandler})]});}export default AddScheduleDate;","map":{"version":3,"sources":["/home/kido3/Desktop/Kido/kido-book-trial/src/components/Backend/AddScheduleDate/AddScheduleDate.js"],"names":["React","useState","useEffect","useContext","Modal","Axios","AuthContext","AddScheduleDate","props","currentUser","showModal","setShowModal","scheduleDate","setScheduleDate","formComplete","setFormComplete","formIncompleteError","setFormIncompleteError","scheduleDates","useRef","userId","uid","modalOpenHandler","handleAddDateClick","event","current","value","length","post","groupId","date","then","response","alert","setShowDates","catch","error","console","log","colBox","document","getElementById","addEventListener","modalCloseHandler","modalContent","color","target"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport Modal from '../../../common/Modal/Modal';\nimport Axios from \"axios\";\nimport { AuthContext } from '../../../context/Auth';\n\nfunction AddScheduleDate(props) {\n  const { currentUser } = useContext(AuthContext);\n  \n  const [showModal, setShowModal] = useState(false);\n  const [scheduleDate, setScheduleDate] = useState(\"\");\n  const [formComplete, setFormComplete] = useState(false);\n  const [formIncompleteError, setFormIncompleteError] = useState(false);\n\n  const scheduleDates  = React.useRef();\n\n  const userId = currentUser.uid;\n\n  useEffect(() => {\n    modalOpenHandler();\n  }, [showModal]);\n\n  const handleAddDateClick = (event) => {\n        if(scheduleDates.current.value.length === 0){\n          setFormComplete(false);\n          setFormIncompleteError(true);\n    } else {\n      // add column name in firebase\n      Axios.post(`https://kido-bookt-backend-default-rtdb.firebaseio.com/groupContents/${props.groupId}/scheduleDate.json`, {\n        date: scheduleDate,\n      })\n        .then((response) => {\n          alert(\"Date added succesfully\");\n          props.setShowDates(true);\n        })\n        .catch((error) => console.log(error));\n\n      setShowModal(false);\n      setScheduleDate(\"\");\n    }\n  };\n\n  const modalOpenHandler = () => {\n    let colBox = document.getElementById(\"addScheduleDateBox\");\n    colBox.addEventListener(\"click\", () => {\n      setShowModal(true);\n    });\n  };\n\n  const  modalCloseHandler = () => {setShowModal(false)};\n\n  let modalContent = showModal ? \n\n  (\n      <>\n    <div className=\"container py-4\">\n      <div className=\"row\">\n        <div className=\"col-md-12 text-left\">\n        <h1 className=\"text-primary1 pb-1\">Add Schedule Date</h1>\n        {formIncompleteError ? <p style={{color : 'red'}}>Kindly complete the form before adding Dates</p> : null}\n        <div className=\"form-group\">\n          <label htmlFor=\"Schedule\">Enter Date</label>\n          <input type=\"date\" id=\"Schedule\" value={scheduleDate} placeholder=\"Enter a Schedule Date\" \n          ref={scheduleDates} onChange={(event) => setScheduleDate(event.target.value)} className=\"form-control\"/>\n        </div> \n        <button className=\"btn btn-info btn-sm\"\n        disabled={formComplete} onClick={handleAddDateClick}>Add Schedule Date</button>\n        </div>\n      </div>\n    </div>\n     \n      </>\n  )\n  :null;\n\n  return (\n    <>\n      <div className=\"d-flex justify-content-between p-2\">\n      <span>Add Schedule Dates</span>\n       <div className=\"btn btn-success btn-sm\" id=\"addScheduleDateBox\"><i class=\"fas fa-plus-square\"></i></div>\n       </div>\n        {showModal && (\n        \n            <Modal  \n                content = {modalContent}\n                close = {modalCloseHandler}/> \n        )}\n       \n    </>\n)\n}\n\nexport default AddScheduleDate;\n"]},"metadata":{},"sourceType":"module"}