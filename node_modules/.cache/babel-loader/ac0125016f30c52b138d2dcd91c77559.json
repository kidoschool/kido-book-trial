{"ast":null,"code":"import _slicedToArray from\"/home/kido3/Desktop/Kido/kido-book-trial/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect,useContext}from\"react\";import style from'./Group.module.css';import Axios from'axios';import{withRouter,useHistory}from\"react-router-dom\";import Loader from\"../../../common/Loader/Loader\";import AddScheduleDate from\"../../../components/Backend/AddScheduleDate/AddScheduleDate\";import TimeSlot from\"../../../components/Backend/TimeSlot/TimeSlot\";import{AuthContext}from'../../../context/Auth';import Sidebar from\"../../../components/Backend/Sidebar/Sidebar\";export var Group=function Group(props){var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;var name=props.match.params.ageGroup;var teachersName=props.location.state.teachersName;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),scheduleDatesData=_useState2[0],setScheduleDatesData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showDates=_useState4[0],setShowDates=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isDatesDelete=_useState8[0],setIsDatesDelete=_useState8[1];var userId=currentUser.uid;// to use history function\nvar history=useHistory();document.title=\"\".concat(name,\" | Kido\");useEffect(function(){setShowDates(false);setIsDatesDelete(false);getScheduleDateData();},[showDates,isDatesDelete]);var getScheduleDateData=function getScheduleDateData(){Axios.get(\"https://kido-bookt-backend-default-rtdb.firebaseio.com/groupContents/\".concat(props.location.state.groupId,\"/scheduleDate.json\")).then(function(response){setTimeout(setScheduleDatesData(response.data),2000);setLoading(false);}).catch(function(error){return console.log(error);});};// handle AgeGroup delete\nvar handleAgeGroupDelete=function handleAgeGroupDelete(e){if(window.confirm(\"Are you sure you want to delete the Age Group?\")){Axios.delete(\"https://kido-bookt-backend-default-rtdb.firebaseio.com/groupContents/\".concat(props.location.state.groupId,\".json\")).then(function(response){alert(\"Age Group deleted succesfully\");history.push(\"/backendhome\");}).catch(function(error){return console.log(\"Error\"+error);});}};// handle column delete\nvar handleDatesDelete=function handleDatesDelete(scheduleDateId,e){if(window.confirm(\"Are you sure you want to delete the Date?\")){Axios.delete(\"https://kido-bookt-backend-default-rtdb.firebaseio.com/groupContents/\".concat(props.location.state.groupId,\"/scheduleDate/\").concat(scheduleDateId,\".json\")).then(function(response){alert(\"date deleted succesfully\");setIsDatesDelete(true);}).catch(function(error){return console.log(\"Error\"+error);});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper d-flex align-items-stretch\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:style.ColumnHeader,children:[/*#__PURE__*/_jsx(\"div\",{className:style.ColumnTitle,children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-primary1 pb-1\",children:name})}),/*#__PURE__*/_jsx(\"div\",{className:style.DeleteBoardBtn,children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm\",onClick:handleAgeGroupDelete,children:\"Delete Age Group\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row pb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"group-box border\",children:/*#__PURE__*/_jsx(AddScheduleDate,{pathname:props.location.pathname,groupId:props.location.state.groupId,getScheduleDateData:getScheduleDateData,setShowDates:setShowDates})})})}),/*#__PURE__*/_jsx(\"div\",{className:style.ColumnDatas,children:scheduleDatesData&&Object.entries(scheduleDatesData).map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:style.ColumnCard,children:[/*#__PURE__*/_jsxs(\"div\",{className:style.ColumnCardHead,children:[/*#__PURE__*/_jsx(\"span\",{className:style.ColumnNames,children:item[1].date}),/*#__PURE__*/_jsx(\"div\",{className:style.deleteColumn,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash-alt\",onClick:function onClick(e){return handleDatesDelete(item[0],e);}})})]}),/*#__PURE__*/_jsx(\"div\",{className:style.cardContainer,children:/*#__PURE__*/_jsx(TimeSlot,{teachersName:teachersName,scheduleDateId:item[0],groupId:props.location.state.groupId,childAgeGroup:name})})]},item[0]);})})]})]})]});};export default withRouter(Group);","map":{"version":3,"sources":["/home/kido3/Desktop/Kido/kido-book-trial/src/pages/Backend/Group/Group.js"],"names":["React","useState","useEffect","useContext","style","Axios","withRouter","useHistory","Loader","AddScheduleDate","TimeSlot","AuthContext","Sidebar","Group","props","currentUser","name","match","params","ageGroup","teachersName","location","state","scheduleDatesData","setScheduleDatesData","showDates","setShowDates","loading","setLoading","isDatesDelete","setIsDatesDelete","userId","uid","history","document","title","getScheduleDateData","get","groupId","then","response","setTimeout","data","catch","error","console","log","handleAgeGroupDelete","e","window","confirm","delete","alert","push","handleDatesDelete","scheduleDateId","ColumnHeader","ColumnTitle","DeleteBoardBtn","pathname","ColumnDatas","Object","entries","map","item","ColumnCard","ColumnCardHead","ColumnNames","date","deleteColumn","cardContainer"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport style from  './Group.module.css';\nimport Axios from 'axios';\nimport { withRouter, useHistory } from \"react-router-dom\";\nimport Loader from \"../../../common/Loader/Loader\";\nimport AddScheduleDate from \"../../../components/Backend/AddScheduleDate/AddScheduleDate\";\nimport TimeSlot from \"../../../components/Backend/TimeSlot/TimeSlot\";\nimport { AuthContext } from '../../../context/Auth';\nimport Sidebar from \"../../../components/Backend/Sidebar/Sidebar\";\n\nexport const Group = (props) => {\n    const { currentUser } = useContext(AuthContext);\n\n    const name = props.match.params.ageGroup;\n    const teachersName = props.location.state.teachersName;\n\n    const [scheduleDatesData, setScheduleDatesData] = useState({});\n    const [showDates, setShowDates] = useState(false);\n    const [loading, setLoading] = useState(true);\n    const [isDatesDelete, setIsDatesDelete] = useState(false);\n\n    const userId = currentUser.uid;\n\n     // to use history function\n    const history = useHistory();\n\n    document.title = `${name} | Kido`;\n\n    useEffect(() => {\n        setShowDates(false);\n        setIsDatesDelete(false);\n        getScheduleDateData();\n    }, [showDates, isDatesDelete]);\n  \n    const getScheduleDateData = () => {\n        Axios\n        .get(`https://kido-bookt-backend-default-rtdb.firebaseio.com/groupContents/${props.location.state.groupId}/scheduleDate.json`)\n        .then((response) => {\n            setTimeout(setScheduleDatesData(response.data), 2000);\n          setLoading(false);\n        })\n        .catch((error) => console.log(error));\n    };\n\n      // handle AgeGroup delete\n    const handleAgeGroupDelete = (e) => {\n      if (window.confirm(\"Are you sure you want to delete the Age Group?\")) {\n        Axios\n        .delete(`https://kido-bookt-backend-default-rtdb.firebaseio.com/groupContents/${props.location.state.groupId}.json`)\n          .then((response) => {\n            alert(\"Age Group deleted succesfully\");\n            history.push(\"/backendhome\");\n          })\n          .catch((error) => console.log(\"Error\" + error));\n      }\n    };\n\n      // handle column delete\n    const handleDatesDelete = (scheduleDateId, e) => {\n      if (window.confirm(\"Are you sure you want to delete the Date?\")) {\n      Axios\n      .delete(`https://kido-bookt-backend-default-rtdb.firebaseio.com/groupContents/${props.location.state.groupId}/scheduleDate/${scheduleDateId}.json`)\n        .then((response) => {\n          alert(\"date deleted succesfully\");\n          setIsDatesDelete(true);\n        })\n        .catch((error) => console.log(\"Error\" + error));\n      }\n    };\n\n\n    return (\n        <div>\n          <br />\n          {loading ? (\n            <Loader></Loader>\n          ) : (\n            <div className=\"wrapper d-flex align-items-stretch\">\n            <Sidebar />\n              <div className=\"container\">\n                  <div className={style.ColumnHeader}>\n                    <div className={style.ColumnTitle}>\n                        <h1 className=\"text-primary1 pb-1\">{name}</h1>\n                    </div>\n                    <div className={style.DeleteBoardBtn}>\n                        <button className=\"btn btn-danger btn-sm\" onClick={handleAgeGroupDelete}>Delete Age Group</button>\n                    </div>\n                  </div>\n\n                <div className=\"row pb-4\">\n                  <div className=\"col-lg-12\">\n                    <div className=\"group-box border\">\n                      <AddScheduleDate\n                        pathname={props.location.pathname}\n                        groupId={props.location.state.groupId}\n                        getScheduleDateData={getScheduleDateData}\n                        setShowDates={setShowDates}\n                      ></AddScheduleDate>\n                      </div>\n                  </div>\n                </div>\n\n                  <div className={style.ColumnDatas}>\n                  {scheduleDatesData &&\n                  Object.entries(scheduleDatesData).map((item) => (\n                 \n                          <div className={style.ColumnCard} key={item[0]}>\n                            <div className={style.ColumnCardHead}>\n                              <span className={style.ColumnNames}>\n                                {item[1].date}\n                              </span>\n                              <div className={style.deleteColumn}>\n                              <i\n                                className=\"fas fa-trash-alt\"\n                                onClick={(e) => handleDatesDelete(item[0], e)}\n                              ></i>\n                            </div>\n                          </div>\n                          <div className={style.cardContainer}>\n                            <TimeSlot\n                              teachersName={teachersName}\n                              scheduleDateId={item[0]}\n                              groupId={props.location.state.groupId}\n                              childAgeGroup={name}\n                            ></TimeSlot>\n                          </div>\n                          </div>\n                     \n                      ))}\n                     \n                  </div>\n              </div>\n              </div>\n          )}\n        </div>\n      );\n    }\n    \n\nexport default withRouter(Group);\n"]},"metadata":{},"sourceType":"module"}