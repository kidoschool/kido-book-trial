{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/kido3/Desktop/Kido/kido-book-trial/src/components/Backend/AddScheduleDate/AddScheduleDate.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport Modal from '../../../common/Modal/Modal';\nimport Axios from \"axios\";\nimport { AuthContext } from '../../../context/Auth';\n\nfunction AddScheduleDate(props) {\n  _s();\n\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const [showModal, setShowModal] = useState(false);\n  const [scheduleDate, setScheduleDate] = useState(\"\");\n  const [formComplete, setFormComplete] = useState(false);\n  const [formIncompleteError, setFormIncompleteError] = useState(false);\n  const scheduleDates = React.useRef();\n  const userId = currentUser.uid;\n  useEffect(() => {\n    modalOpenHandler();\n  }, [showModal]);\n\n  const handleAddDateClick = event => {\n    if (scheduleDates.current.value.length === 0) {\n      setFormComplete(false);\n      setFormIncompleteError(true);\n    } else {\n      // add column name in firebase\n      Axios.post(`https://kido-bookt-backend-default-rtdb.firebaseio.com/groupContents/${props.groupId}/scheduleDate.json`, {\n        date: scheduleDate\n      }).then(response => {\n        alert(\"Date added succesfully\");\n        props.setShowDates(true);\n      }).catch(error => console.log(error));\n      setShowModal(false);\n      setScheduleDate(\"\");\n    }\n  };\n\n  const modalOpenHandler = () => {\n    let colBox = document.getElementById(\"addScheduleDateBox\");\n    colBox.addEventListener(\"click\", () => {\n      setShowModal(true);\n    });\n  };\n\n  const modalCloseHandler = () => {\n    setShowModal(false);\n  };\n\n  let modalContent = showModal ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 text-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-primary1 pb-1\",\n            children: \"Add Schedule Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 9\n          }, this), formIncompleteError ? /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: 'red'\n            },\n            children: \"Kindly complete the form before adding Dates\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 32\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"Schedule\",\n              children: \"Enter Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              id: \"Schedule\",\n              value: scheduleDate,\n              placeholder: \"Enter a Schedule Date\",\n              ref: scheduleDates,\n              onChange: event => setScheduleDate(event.target.value),\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-info btn-sm\",\n            disabled: formComplete,\n            onClick: handleAddDateClick,\n            children: \"Add Schedule Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this)\n  }, void 0, false) : null;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between p-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Add Schedule Dates\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn btn-success btn-sm\",\n        id: \"addScheduleDateBox\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"fas fa-plus-square\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 72\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(Modal, {\n      content: modalContent,\n      close: modalCloseHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AddScheduleDate, \"pGhr4ZmQWJgeWsTZOzzjlown12s=\");\n\n_c = AddScheduleDate;\nexport default AddScheduleDate;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddScheduleDate\");","map":{"version":3,"sources":["/home/kido3/Desktop/Kido/kido-book-trial/src/components/Backend/AddScheduleDate/AddScheduleDate.js"],"names":["React","useState","useEffect","useContext","Modal","Axios","AuthContext","AddScheduleDate","props","currentUser","showModal","setShowModal","scheduleDate","setScheduleDate","formComplete","setFormComplete","formIncompleteError","setFormIncompleteError","scheduleDates","useRef","userId","uid","modalOpenHandler","handleAddDateClick","event","current","value","length","post","groupId","date","then","response","alert","setShowDates","catch","error","console","log","colBox","document","getElementById","addEventListener","modalCloseHandler","modalContent","color","target"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport Modal from '../../../common/Modal/Modal';\nimport Axios from \"axios\";\nimport { AuthContext } from '../../../context/Auth';\n\nfunction AddScheduleDate(props) {\n  const { currentUser } = useContext(AuthContext);\n  \n  const [showModal, setShowModal] = useState(false);\n  const [scheduleDate, setScheduleDate] = useState(\"\");\n  const [formComplete, setFormComplete] = useState(false);\n  const [formIncompleteError, setFormIncompleteError] = useState(false);\n\n  const scheduleDates  = React.useRef();\n\n  const userId = currentUser.uid;\n\n  useEffect(() => {\n    modalOpenHandler();\n  }, [showModal]);\n\n  const handleAddDateClick = (event) => {\n        if(scheduleDates.current.value.length === 0){\n          setFormComplete(false);\n          setFormIncompleteError(true);\n    } else {\n      // add column name in firebase\n      Axios.post(`https://kido-bookt-backend-default-rtdb.firebaseio.com/groupContents/${props.groupId}/scheduleDate.json`, {\n        date: scheduleDate,\n      })\n        .then((response) => {\n          alert(\"Date added succesfully\");\n          props.setShowDates(true);\n        })\n        .catch((error) => console.log(error));\n\n      setShowModal(false);\n      setScheduleDate(\"\");\n    }\n  };\n\n  const modalOpenHandler = () => {\n    let colBox = document.getElementById(\"addScheduleDateBox\");\n    colBox.addEventListener(\"click\", () => {\n      setShowModal(true);\n    });\n  };\n\n  const  modalCloseHandler = () => {setShowModal(false)};\n\n  let modalContent = showModal ? \n\n  (\n      <>\n    <div className=\"container py-4\">\n      <div className=\"row\">\n        <div className=\"col-md-12 text-left\">\n        <h1 className=\"text-primary1 pb-1\">Add Schedule Date</h1>\n        {formIncompleteError ? <p style={{color : 'red'}}>Kindly complete the form before adding Dates</p> : null}\n        <div className=\"form-group\">\n          <label htmlFor=\"Schedule\">Enter Date</label>\n          <input type=\"date\" id=\"Schedule\" value={scheduleDate} placeholder=\"Enter a Schedule Date\" \n          ref={scheduleDates} onChange={(event) => setScheduleDate(event.target.value)} className=\"form-control\"/>\n        </div> \n        <button className=\"btn btn-info btn-sm\"\n        disabled={formComplete} onClick={handleAddDateClick}>Add Schedule Date</button>\n        </div>\n      </div>\n    </div>\n     \n      </>\n  )\n  :null;\n\n  return (\n    <>\n      <div className=\"d-flex justify-content-between p-2\">\n      <span>Add Schedule Dates</span>\n       <div className=\"btn btn-success btn-sm\" id=\"addScheduleDateBox\"><i class=\"fas fa-plus-square\"></i></div>\n       </div>\n        {showModal && (\n        \n            <Modal  \n                content = {modalContent}\n                close = {modalCloseHandler}/> \n        )}\n       \n    </>\n)\n}\n\nexport default AddScheduleDate;\n"]},"metadata":{},"sourceType":"module"}